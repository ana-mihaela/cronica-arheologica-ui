<div class="container-fluid">
  <div class="portlet">
    <div class="portlet-title">
      <div class="caption">
        {{ 'SITE_ADD' | translate }}
      </div>
    </div>
    <div class="portlet-body">
      <div class="card">
        <div class="card-body">
          <form novalidate [formGroup]="form">
            <app-wizard>
              <app-wizard-step [title]="'SITE_TABS_LOCATION' | translate" [iconClass]="'fa fa-map'" [isValid]="true" (onBeforeNext)="onLocationBeforeNext($event)">
                <div class="container" formGroupName="location">
                  <ng-template #cityErrors>
                    <span *ngIf="fieldHasError('location.city', 'required')">{{ 'SITE_CITY_REQUIRED' | translate }}</span>
                  </ng-template>
                  <ng-template #countyErrors>
                    <span *ngIf="fieldHasError('location.county', 'required')">{{ 'SITE_COUNTY_REQUIRED' | translate }}</span>
                  </ng-template>
                  <ng-template #uatErrors>
                    <span *ngIf="fieldHasError('location.uat', 'required')">{{ 'SITE_UAT_REQUIRED' | translate }}</span>
                  </ng-template>
                  <ng-template #sirutaCodeErrors>
                    <span *ngIf="fieldHasError('location.sirutaCode', 'required')">{{ 'SITE_SIRUTA_CODE_REQUIRED' | translate }}</span>
                  </ng-template>
                  <ng-template #ranCodeErrors>
                    <span *ngIf="fieldHasError('location.ranCode', 'required')">{{ 'SITE_RAN_REQUIRED' | translate }}</span>
                  </ng-template>
                  <ng-template #sectorErrors>
                    <span *ngIf="fieldHasError('location.sector', 'required')">{{ 'SITE_SECTOR_REQUIRED' | translate }}</span>
                  </ng-template>

                  <div class="row">
                    <div class="col-md-6 col-sm-12 col-xs-12">
                      <div class="form-group" [ngClass]="displayFieldCss('location.city')">
                        <label for="city" class="control-label required">{{ 'SITE_CITY' | translate }}</label>
                        <i class="fa fa-warning error-icon" [hidden]="!isFieldNotValid('location.city')" [tooltip]="cityErrors"></i>
                        <input type="text" id="city" class="form-control" [placeholder]="'SITE_CITY' | translate" formControlName="city">
                      </div>
                      <div class="form-group" [ngClass]="displayFieldCss('location.county')">
                        <label for="county" class="control-label required">{{ 'SITE_COUNTY' | translate }}</label>
                        <i class="fa fa-warning error-icon" [hidden]="!isFieldNotValid('location.county')" [tooltip]="countyErrors"></i>
                        <input type="text" id="county" class="form-control" [placeholder]="'SITE_COUNTY' | translate" formControlName="county">
                      </div>
                      <div class="form-group">
                        <label for="address" class="control-label">{{ 'SITE_ADDRESS' | translate }}</label>
                        <input type="text" id="address" class="form-control" [placeholder]="'SITE_ADDRESS_HELP' | translate" formControlName="address">
                      </div>
                    </div>
                    <div class="col-md-6 col-sm-12 col-xs-12">
                      <div class="form-group" [ngClass]="displayFieldCss('location.uat')">
                        <label for="uat" class="control-label required">{{ 'SITE_UAT' | translate }}</label>
                        <i class="fa fa-warning error-icon" [hidden]="!isFieldNotValid('location.uat')" [tooltip]="uatErrors"></i>
                        <input type="text" id="uat" class="form-control" [placeholder]="'SITE_UAT_HELP' | translate" formControlName="uat">
                      </div>
                      <div class="form-group" [ngClass]="displayFieldCss('location.sirutaCode')">
                        <label for="sirutaCode" class="control-label required">{{ 'SITE_SIRUTA_CODE' | translate }}</label>
                        <i class="fa fa-warning error-icon" [hidden]="!isFieldNotValid('location.sirutaCode')" [tooltip]="sirutaCodeErrors"></i>
                        <input type="text" id="sirutaCode" class="form-control" [placeholder]="'SITE_SIRUTA_CODE' | translate" formControlName="sirutaCode">
                      </div>
                      <div class="form-group" [ngClass]="displayFieldCss('location.ranCode')">
                        <label for="ranCode" class="control-label required">{{ 'SITE_RAN_CODE' | translate }}</label>
                        <i class="fa fa-warning error-icon" [hidden]="!isFieldNotValid('location.ranCode')" [tooltip]="ranCodeErrors"></i>
                        <input type="text" id="ranCode" class="form-control" [placeholder]="'SITE_RAN_HELP' | translate" formControlName="ranCode">
                      </div>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-md-6 col-sm-12 col-xs-12">
                      <div class="form-group">
                        <label for="toponym" class="control-label">{{ 'SITE_TOPONYM' | translate }}</label>
                        <input type="text" id="toponym" class="form-control" [placeholder]="'SITE_TOPONYM_HELP' | translate" formControlName="toponym">
                      </div>
                    </div>
                    <div class="col-md-3 col-sm-12 col-xs-12">
                      <div class="form-group" [ngClass]="displayFieldCss('location.sector')">
                        <label for="sector" class="control-label required">{{ 'SITE_SECTOR' | translate }}</label>
                        <i class="fa fa-warning error-icon" [hidden]="!isFieldNotValid('location.sector')" [tooltip]="sectorErrors"></i>
                        <input type="text" id="sector" class="form-control" [placeholder]="'SITE_SECTOR' | translate" formControlName="sector">
                      </div>
                    </div>
                    <div class="col-md-3 col-sm-12 col-xs-12">
                      <div class="form-group">
                        <label for="year" class="control-label">{{ 'SITE_CAMPAIGN_YEAR' | translate }}</label>
                        <input type="number" id="year" class="form-control" [placeholder]="'SITE_CAMPAIGN_YEAR' | translate" formControlName="campaignYear">
                      </div>
                    </div>
                  </div>
                </div>
              </app-wizard-step>
              <app-wizard-step [title]="'SITE_TABS_CHRONOLOGY' | translate" [iconClass]="'fa fa-calendar'" [isValid]="chronology.valid" (onBeforeNext)="onChronologyBeforeNext($event)">
                <div class="container" formGroupName="chronology">
                  <ng-template #typeErrors>
                    <span *ngIf="fieldHasError('chronology.type', 'required')">{{ 'SITE_TYPE_REQUIRED' | translate }}</span>
                  </ng-template>
                  <ng-template #categoryErrors>
                    <span *ngIf="fieldHasError('chronology.category', 'required')">{{ 'SITE_CATEGORY_REQUIRED' | translate }}</span>
                  </ng-template>
                  <ng-template #periodErrors>
                    <span *ngIf="fieldHasError('chronology.periods', 'required')">{{ 'SITE_PERIODS_REQUIRED' | translate }}</span>
                  </ng-template>
                  <ng-template #epochErrors>
                    <span *ngIf="fieldHasError('chronology.epochs', 'required')">{{ 'SITE_EPOCHS_REQUIRED' | translate }}</span>
                  </ng-template>

                  <div class="row">
                    <div class="col-md-6 col-sm-12 col-xs-12">
                      <div class="form-group" [ngClass]="displayFieldCss('chronology.type')">
                        <label for="type" class="control-label required">{{ 'SITE_TYPE_LONG' | translate }}</label>
                        <i class="fa fa-warning error-icon" [hidden]="!isFieldNotValid('chronology.type')" [tooltip]="typeErrors"></i>
                        <i class="fa fa-info-circle info-icon" [tooltip]="'SITE_CHRONOLOGY_HELP' | translate"></i>
                        <ngx-select id="type" [placeholder]="'SITE_TYPE_LONG' | translate" [items]="siteTypes" formControlName="type"></ngx-select>
                      </div>
                    </div>
                    <div class="col-md-6 col-sm-12 col-xs-12">
                      <div class="form-group" [ngClass]="displayFieldCss('chronology.category')">
                        <label for="category" class="control-label required">{{ 'SITE_CATEGORY_LONG' | translate }}</label>
                        <i class="fa fa-warning error-icon" [hidden]="!isFieldNotValid('chronology.category')" [tooltip]="categoryErrors"></i>
                        <i class="fa fa-info-circle info-icon" [tooltip]="'SITE_CHRONOLOGY_HELP' | translate"></i>
                        <ngx-select id="category" [placeholder]="'SITE_CATEGORY_LONG' | translate" [items]="siteCategories" formControlName="category"></ngx-select>
                      </div>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-md-12 col-sm-12 col-xs-12">
                      <div class="form-group" [ngClass]="displayFieldCss('chronology.periods')">
                        <label for="period" class="control-label required">{{ 'SITE_PERIODS' | translate }}</label>
                        <i class="fa fa-warning error-icon" [hidden]="!isFieldNotValid('chronology.periods')" [tooltip]="periodErrors"></i>
                        <i class="fa fa-info-circle info-icon" [tooltip]="'SITE_CHRONOLOGY_HELP' | translate"></i>
                        <ngx-select id="period" class="select-multiple" [placeholder]="'SITE_PERIODS' | translate" [items]="sitePeriods" [multiple]="true" formControlName="periods"></ngx-select>
                      </div>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-md-12 col-sm-12 col-xs-12">
                      <div class="form-group" [ngClass]="displayFieldCss('chronology.epochs')">
                        <label for="epochs" class="control-label required">{{ 'SITE_EPOCHS' | translate }}</label>
                        <i class="fa fa-warning error-icon" [hidden]="!isFieldNotValid('chronology.epochs')" [tooltip]="epochErrors"></i>
                        <i class="fa fa-info-circle info-icon" [tooltip]="'SITE_CHRONOLOGY_HELP' | translate"></i>
                        <ngx-select id="epochs" class="select-multiple" [placeholder]="'SITE_EPOCHS' | translate" [items]="siteEpochs" [multiple]="true" formControlName="epochs"></ngx-select>
                      </div>
                    </div>
                  </div>
                </div>
              </app-wizard-step>
              <app-wizard-step [title]="'SITE_TABS_MEMBERS' | translate" [iconClass]="'fa fa-users'">
                Step3
              </app-wizard-step>
              <app-wizard-step [title]="'SITE_TABS_CAMPAIGN' | translate" [iconClass]="'fa fa-comments'" (onComplete)="onComplete($event)">
                <div *ngIf="!isCompleted">
                  Step4
                </div>
                <div *ngIf="isCompleted">
                  Thank you!
                </div>
              </app-wizard-step>
            </app-wizard>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>
