
<div class="container-fluid">
  <div class="portlet">
    <div class="portlet-title">
      <div class="caption">
        {{ 'RAN_TITLE' | translate }} <span class="highlight">(RAN)</span>
      </div>
    </div>
    <div class="portlet-body">

      <div class="card">
        <div class="card-title">
          <span>{{ 'SEARCH' | translate }}</span>
          <i class="fa fa-search right"></i>
        </div>
        <div class="card-body">
          <form>
            <div class="form-row">
              <div class="col-auto my-1">
                <label class="control-label mr-sm-2">Start Date</label>
                <div class="input-group">
                  <input type="text" class="form-control" placeholder="Select date" bsDatepicker #d="bsDatepicker" [bsConfig]="{ containerClass: 'theme-custom' }">
                  <div class="input-group-append">
                    <button class="btn btn-default" (click)="d.toggle();" type="button">
                      <i class="fa fa-calendar" style="cursor: pointer;"></i>
                    </button>
                  </div>
                </div>
              </div>
            </div>
            <div class="form-row">
              <div class="col-auto my-1">
                <div class="custom-control custom-checkbox">
                  <input type="checkbox" class="custom-control-input" id="customControl">
                  <label class="custom-control-label" for="customControl">Remember</label>
                </div>
              </div>
              <div class="col-auto my-1">
                <label class="custom-control custom-radio">
                  <input type="radio" name="radio" class="custom-control-input" id="customControl2">
                  <label class="custom-control-label" for="customControl2">Custom radio</label>
                </label>
              </div>
              <div class="col-auto my-1">
                <label class="custom-control custom-radio">
                  <input type="radio" name="radio" class="custom-control-input" id="customControl3">
                  <label class="custom-control-label" for="customControl3">Custom radio</label>
                </label>
              </div>
            </div>
            <div class="form-row">
              <div class="col-auto my-1">
                <label class="custom-file">
                  <input type="file" id="file" class="custom-file-input">
                  <label class="custom-file-label"></label>
                </label>
              </div>
            </div>
            <div class="form-row">
              <div class="col-auto my-1">
                <div class="btn-group" dropdown>
                  <button dropdownToggle type="button" class="btn btn-secondary btn-sm dropdown-toggle">
                    Button dropdown <span class="caret"></span>
                  </button>
                  <ul *dropdownMenu class="dropdown-menu" role="menu">
                    <li role="menuitem"><a class="dropdown-item" href="#">Action</a></li>
                    <li role="menuitem"><a class="dropdown-item" href="#">Another action</a></li>
                    <li role="menuitem"><a class="dropdown-item" href="#">Something else here</a></li>
                    <li class="divider dropdown-divider"></li>
                    <li role="menuitem"><a class="dropdown-item" href="#">Separated link</a>
                    </li>
                  </ul>
                </div>
              </div>
            </div>

            <!--<div class="form-row">
              <div class="col-auto my-1">
                <label class="control-label mr-sm-2" for="select2">Type</label>
                <ngx-select placeholder="No city selected" class="mr-sm-2" id="select2" [items]="['111', '222']"></ngx-select>
              </div>
            </div>-->
          </form>

        </div>
      </div>

      <app-table [items]="sites"
                 [expandableRows]="true"
                 [pagination]="true"
                 [page]="page"
                 [total]="total"
                 [perPage]="perPage"
                 [loading]="loading"
                 (tableReload)="onTableReload($event)"
                 (selectItemChange)="onSelectItemChange($event)">

        <ng-template #tableExpand let-item="item">
          <span><b>{{ 'SITE_DESCRIPTION' | translate }}:</b></span>
          {{ item.name }}
        </ng-template>

        <app-table-column [property]="'ranCode'" [minWidth]="'110px'" [sortable]="true">
          <ng-template #tableHeader>
            <span class="highlight">{{ 'SITE_RAN_CODE' | translate}}</span>
          </ng-template>
        </app-table-column>
        <app-table-column [property]="'name'" [header]="'SITE_NAME' | translate" [width]="'100%'" [sortable]="true"></app-table-column>
        <app-table-column [property]="'class'" [header]="'SITE_CLASS' | translate" [minWidth]="'180px'" [sortable]="true"></app-table-column>
        <app-table-column [property]="'type'" [header]="'SITE_TYPE' | translate" [minWidth]="'160px'" [sortable]="true"></app-table-column>
        <app-table-column [property]="'county'" [header]="'SITE_COUNTY' | translate" [minWidth]="'100px'" [sortable]="true"></app-table-column>
        <app-table-column [property]="'city'" [header]="'SITE_CITY' | translate" [minWidth]="'200px'"  [sortable]="true"></app-table-column>
        <app-table-column [property]="'chronology'" [header]="'SITE_CHRONOLOGY' | translate" [minWidth]="'200px'" [sortable]="true"></app-table-column>
        <app-table-column [property]="'lastUpdate'" [header]="'SITE_LAST_UPDATE' | translate" [minWidth]="'160px'" [sortable]="true"></app-table-column>
        <app-table-column [header]="'SITE_VIEW_MAP' | translate" [minWidth]="'110px'">
          <ng-template #tableCell let-item="item">
            <a [routerLink]="['map', item.ranCode]" class="btn btn-secondary btn-xs">{{ 'SITE_VIEW' | translate}}</a>
          </ng-template>
        </app-table-column>
      </app-table>
    </div>

    <div *ngIf="selectedSite" style="margin-top:1rem">
      <alert type="info">
        <strong>{{ 'SITE_SELECTED' | translate }}</strong> {{ selectedSite.name }}
      </alert>
    </div>

  </div>
</div>
